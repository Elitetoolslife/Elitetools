
<ul class="nav nav-tabs">
	<li class="nav-item">
		<a class="nav-link active" data-toggle="tab" href="#filter"><i class="fas fa-filter"></i> Filter</a>

	</li>
	<li class="nav-item">
    	<a class="nav-link" href="#checker" data-toggle="tab"><i class="fas fa-edit"></i> Edit Checker Email</a>

	</li>
</ul>
<div id="myTabContent" class="tab-content">
	<div class="tab-pane fade show active" id="filter">
		<table class="table table-borderless "><thead><tr><th class='sorttable_nosort'>ID</th>
<th class='sorttable_nosort'>Country</th>
<th class='sorttable_nosort'>Detected Hosting</th>
<th class='sorttable_nosort'>Seller</th>
<th class='sorttable_nosort'></th></tr></thead><tbody><tr><td><input class='filterinput form-control input-sm' name="mailer_id" size='3'></td><td><select class='filterselect form-control input-sm' name="mailer_country"><option value="">ALL</option><option value="Argentina">Argentina</option><option value="Belarus">Belarus</option><option value="Brazil">Brazil</option><option value="Canada">Canada</option><option value="Chile">Chile</option><option value="China">China</option><option value="Croatia">Croatia</option><option value="Czechia">Czechia</option><option value="Denmark">Denmark</option><option value="Estonia">Estonia</option><option value="France">France</option><option value="Germany">Germany</option><option value="Greece">Greece</option><option value="Hong Kong">Hong Kong</option><option value="Hungary">Hungary</option><option value="India">India</option><option value="Indonesia">Indonesia</option><option value="Iran">Iran</option><option value="Ireland">Ireland</option><option value="Italy">Italy</option><option value="Japan">Japan</option><option value="Lithuania">Lithuania</option><option value="Malaysia">Malaysia</option><option value="Morocco">Morocco</option><option value="Netherlands">Netherlands</option><option value="Peru">Peru</option><option value="Poland">Poland</option><option value="Portugal">Portugal</option><option value="Romania">Romania</option><option value="Russia">Russia</option><option value="Saudi Arabia">Saudi Arabia</option><option value="Singapore">Singapore</option><option value="Slovakia">Slovakia</option><option value="Slovenia">Slovenia</option><option value="South Africa">South Africa</option><option value="South Korea">South Korea</option><option value="Spain">Spain</option><option value="Sweden">Sweden</option><option value="Taiwan">Taiwan</option><option value="Thailand">Thailand</option><option value="Tunisia">Tunisia</option><option value="Turkey">Turkey</option><option value="Ukraine">Ukraine</option><option value="United Arab Emirates">United Arab Emirates</option><option value="United Kingdom">United Kingdom</option><option value="United States">United States</option><option value="Uzbekistan">Uzbekistan</option><option value="Vietnam">Vietnam</option></select></td><td><input class='filterinput form-control input-sm' name="mailer_hosting" size='3'></td><td><select class='filterselect form-control input-sm' name="mailer_seller"><option value="">ALL</option><option value="seller25">seller25</option><option value="seller26">seller26</option><option value="seller27">seller27</option><option value="seller37">seller37</option><option value="seller41">seller41</option><option value="seller44">seller44</option><option value="seller50">seller50</option><option value="seller57">seller57</option><option value="seller59">seller59</option><option value="seller73">seller73</option><option value="seller75">seller75</option><option value="seller82">seller82</option><option value="seller83">seller83</option><option value="seller90">seller90</option><option value="seller94">seller94</option><option value="seller98">seller98</option><option value="seller102">seller102</option><option value="seller115">seller115</option><option value="seller125">seller125</option><option value="seller126">seller126</option><option value="seller130">seller130</option><option value="seller132">seller132</option><option value="seller138">seller138</option><option value="seller141">seller141</option><option value="seller148">seller148</option><option value="seller158">seller158</option><option value="seller159">seller159</option><option value="seller168">seller168</option><option value="seller173">seller173</option><option value="seller182">seller182</option><option value="seller184">seller184</option><option value="seller187">seller187</option><option value="seller194">seller194</option><option value="seller195">seller195</option></select></td><td><button id='filterbutton'class="btn btn-primary btn" disabled>Filter <span class="glyphicon glyphicon-filter"></span></button></td></tr></tbody></table>	</div>

    <div class="tab-pane fade" id="checker">
	<form id="edit" class="col-lg-5">
		<table class="table table-borderless ">
			<thead>
				<tr>
					<th class="sorttable_nosort">Checker Email</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>
						<div class="input-group mb-3">
							<input type="text" name="c_email" id="c_email" class="form-control" value="evil0x3a@gmail.com" required/>
							<div class="input-group-append">
							<button type='submit' form="edit" class='btn btn-outline-primary btn'>Change <i class="fas fa-highlighter"></i></button>
						  </div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</form>
  </div>
</div>


<table width="100%"  class="table table-striped table-bordered sticky-header table-sm" id="table">
<thead>
    <tr>
      <th scope="col" >ID</th>
      <th scope="col" >Country</th>
      <th scope="col">Detected Hosting</th>
      <th scope="col">Seller</th>
      <th style="width: 20%" scope="col">Send Test <span id='checkertitle'>to evil0x3a@gmail.com</span></th>
      <th style="width: 7%"scope="col">Price</th>
      <th scope="col">Added on </th>
      <th style="width: 10%" scope="col" class="sorttable_nosort">Buy</th>
    </tr>
</thead>
  <tbody>
    {items}
  </tbody>
</table>
<script type="text/javascript">

$('#filterbutton').click(function () {$("#table tbody tr").each(function() {var ck1 = $.trim( $(this).find("#mailer_id").text().toLowerCase() );var ck2 = $.trim( $(this).find("#mailer_country").text().toLowerCase() );var ck3 = $.trim( $(this).find("#mailer_hosting").text().toLowerCase() );var ck4 = $.trim( $(this).find("#mailer_seller").text().toLowerCase() ); var val1 = $.trim( $('input[name="mailer_id"]').val().toLowerCase() );var val2 = $.trim( $('select[name="mailer_country"]').val().toLowerCase() );var val3 = $.trim( $('input[name="mailer_hosting"]').val().toLowerCase() );var val4 = $.trim( $('select[name="mailer_seller"]').val().toLowerCase() ); if(ck1.indexOf(val1)==-1 || (ck2 != val2 && val2 != '' ) || ck3.indexOf(val3)==-1 || (ck4 != val4 && val4 != '' )){ $(this).hide();  }else{ $(this).show(); } });$('#filterbutton').prop('disabled', true);});$('.filterselect').change(function () {$('#filterbutton').prop('disabled', false);});$('.filterinput').keyup(function () {$('#filterbutton').prop('disabled', false);});

$("#edit").submit(function() {
$('button').prop('disabled', true);
    $.ajax({
           type: "POST",
           url: 'checkEmailChange.html',
           data: $("#edit").serialize(), // serializes the form's elements.
           success: function(data)
           {
            if (data == 01) {
            	bootbox.alert('Please enter a valid Email', function() {});
             }             
             if (data != 01 ) {
				      var c_email=$('#c_email').val();
              $("#checkertitle").html('to ' + c_email +'').show();
              
              bootbox.alert(data, function() {});
             }
             $('button').prop('disabled', false);
           }
         });

    return false; // avoid to execute the actual submit of the form.
});
function buyit(id,code,price){
  bootbox.confirm("Are you sure?", function(result) {
        if(result ==true){

          balance = $('#balance').text();
          if (price <= balance){
              $("#buy_"+id).html('Purchasing...').show();
              $.ajax({
                type:       'GET',
                url:        'mailerbuy'+id+'-'+code+'.html',
                success:    function(data)
                {
                  $("#buy_"+id).html(data).show();
                  ajaxinfo();
                }});
          }
          else {
            bootbox.alert('<center><img src="files/img/balance.png"><h2><b>No enough balance !</b></h2><h4>Please refill your balance <a class="btn btn-primary btn-xs"  href="addBalance.html" onclick="window.open(this.href);return false;" >Add Balance <span class="glyphicon glyphicon-plus"></span></a></h4></center>', function() {});}}
  });
}
g:xcheck=0;

function check(id,code){
  //xcheck=0;
  if(xcheck > 4){
    bootbox.alert("<b>Wait</b> - Other checking operation is being executed!");
  }
  else {
    xcheck++;
    $("#check_"+id).html('Sending...').show();
    $.ajax({
      type:       'GET',
      url:        '/mailercheck1364d4v2t2-'+id+'-'+code+'.html',
      success:    function(data)
      {
        $("#check_"+id).html(data).show();
         xcheck--;
      }
    ,error: function (request, status, error) {$("#check_"+id).html('<span class="label label-default">Unknown</span>').show();xcheck=0;}});
  }
}


function activaTab(tab){
  $('.nav-tabs a[href="#' + tab + '"]').tab('show');
};
</script>