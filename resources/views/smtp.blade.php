<ul class="nav nav-tabs">
	<li class="nav-item">
		<a class="nav-link active" data-toggle="tab" href="#filter"><i class="fas fa-filter"></i> Filter</a>

	</li>
	<li class="nav-item">
    	<a class="nav-link" href="#checker" data-toggle="tab"><i class="fas fa-edit"></i> Edit Checker Email</a>

	</li>
</ul>
<div id="myTabContent" class="tab-content">
	<div class="tab-pane fade show active" id="filter">
		<table class="table table-borderless "><thead><tr><th class='sorttable_nosort'>ID</th>
<th class='sorttable_nosort'>Country</th>
<th class='sorttable_nosort'>Webmail</th>
<th class='sorttable_nosort'>Detected Hosting</th>
<th class='sorttable_nosort'>Seller</th>
<th class='sorttable_nosort'></th></tr></thead><tbody><tr><td><input class='filterinput form-control input-sm' name="smtp_id" size='3'></td><td><select class='filterselect form-control input-sm' name="smtp_country"><option value="">ALL</option><option value="Aland Islands">Aland Islands</option><option value="Andorra">Andorra</option><option value="Argentina">Argentina</option><option value="Armenia">Armenia</option><option value="Aruba">Aruba</option><option value="Australia">Australia</option><option value="Bangladesh">Bangladesh</option><option value="Belarus">Belarus</option><option value="Belgium">Belgium</option><option value="Bhutan">Bhutan</option><option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option><option value="Brazil">Brazil</option><option value="Bulgaria">Bulgaria</option><option value="Cameroon">Cameroon</option><option value="Canada">Canada</option><option value="Chile">Chile</option><option value="China">China</option><option value="Czechia">Czechia</option><option value="Estonia">Estonia</option><option value="Finland">Finland</option><option value="France">France</option><option value="Germany">Germany</option><option value="Hong Kong">Hong Kong</option><option value="Hungary">Hungary</option><option value="India">India</option><option value="Indonesia">Indonesia</option><option value="Iran">Iran</option><option value="Ireland">Ireland</option><option value="Israel">Israel</option><option value="Italy">Italy</option><option value="Japan">Japan</option><option value="Kuwait">Kuwait</option><option value="Kyrgyzstan">Kyrgyzstan</option><option value="Luxembourg">Luxembourg</option><option value="Malaysia">Malaysia</option><option value="Mauritius">Mauritius</option><option value="Mexico">Mexico</option><option value="Moldova">Moldova</option><option value="Mongolia">Mongolia</option><option value="Netherlands">Netherlands</option><option value="Nigeria">Nigeria</option><option value="Norway">Norway</option><option value="Oman">Oman</option><option value="Panama">Panama</option><option value="Paraguay">Paraguay</option><option value="Peru">Peru</option><option value="Poland">Poland</option><option value="Qatar">Qatar</option><option value="Romania">Romania</option><option value="Russia">Russia</option><option value="Rwanda">Rwanda</option><option value="Saudi Arabia">Saudi Arabia</option><option value="Serbia">Serbia</option><option value="Singapore">Singapore</option><option value="Slovakia">Slovakia</option><option value="Slovenia">Slovenia</option><option value="Somalia">Somalia</option><option value="South Africa">South Africa</option><option value="Spain">Spain</option><option value="Sri Lanka">Sri Lanka</option><option value="Sweden">Sweden</option><option value="Switzerland">Switzerland</option><option value="Thailand">Thailand</option><option value="Timor Leste">Timor Leste</option><option value="Turkey">Turkey</option><option value="U.S. Virgin Islands">U.S. Virgin Islands</option><option value="Ukraine">Ukraine</option><option value="United Arab Emirates">United Arab Emirates</option><option value="United Kingdom">United Kingdom</option><option value="United States">United States</option><option value="Uzbekistan">Uzbekistan</option><option value="Venezuela">Venezuela</option><option value="Vietnam">Vietnam</option><option value="Zimbabwe">Zimbabwe</option></select></td><td><select class='filterselect form-control input-sm' name="smtp_webmail"><option value="">ALL</option><option value="no">no</option><option value="yes">yes</option></select></td><td><input class='filterinput form-control input-sm' name="smtp_hosting" size='3'></td><td><select class='filterselect form-control input-sm' name="smtp_seller"><option value="">ALL</option><option value="seller6">seller6</option><option value="seller18">seller18</option><option value="seller23">seller23</option><option value="seller26">seller26</option><option value="seller27">seller27</option><option value="seller34">seller34</option><option value="seller37">seller37</option><option value="seller42">seller42</option><option value="seller49">seller49</option><option value="seller50">seller50</option><option value="seller51">seller51</option><option value="seller57">seller57</option><option value="seller59">seller59</option><option value="seller61">seller61</option><option value="seller74">seller74</option><option value="seller75">seller75</option><option value="seller82">seller82</option><option value="seller83">seller83</option><option value="seller84">seller84</option><option value="seller85">seller85</option><option value="seller90">seller90</option><option value="seller94">seller94</option><option value="seller102">seller102</option><option value="seller112">seller112</option><option value="seller114">seller114</option><option value="seller115">seller115</option><option value="seller117">seller117</option><option value="seller118">seller118</option><option value="seller119">seller119</option><option value="seller125">seller125</option><option value="seller126">seller126</option><option value="seller129">seller129</option><option value="seller130">seller130</option><option value="seller131">seller131</option><option value="seller132">seller132</option><option value="seller134">seller134</option><option value="seller138">seller138</option><option value="seller139">seller139</option><option value="seller141">seller141</option><option value="seller142">seller142</option><option value="seller148">seller148</option><option value="seller151">seller151</option><option value="seller153">seller153</option><option value="seller155">seller155</option><option value="seller156">seller156</option><option value="seller158">seller158</option><option value="seller159">seller159</option><option value="seller165">seller165</option><option value="seller166">seller166</option><option value="seller168">seller168</option><option value="seller169">seller169</option><option value="seller173">seller173</option><option value="seller184">seller184</option><option value="seller189">seller189</option><option value="seller190">seller190</option><option value="seller191">seller191</option><option value="seller194">seller194</option><option value="seller195">seller195</option><option value="seller206">seller206</option></select></td><td><button id='filterbutton'class="btn btn-primary btn" disabled>Filter <span class="glyphicon glyphicon-filter"></span></button></td></tr></tbody></table>	</div>

    <div class="tab-pane fade" id="checker">
	<form id="edit" class="col-lg-3">
		<table class="table table-borderless ">
			<thead>
				<tr>
					<th class="sorttable_nosort">Checker Email</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>
						<div class="input-group mb-3">
							<input type="text" name="c_email" id="c_email" class="form-control" value="evil0x3a@gmail.com" required/>
							<div class="input-group-append">
							<button type='submit' form="edit" class='btn btn-outline-primary btn'>Change <i class="fas fa-highlighter"></i></button>
						  </div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</form>
  </div>
</div>



<table class="table table-striped table-bordered table-condensed sticky-header" id="table">
<thead>
    <tr>
      <th scope="col" >ID</th>
      <th style="width: 10%"scope="col" >Country</th>
		<th scope="col">Webmail</th>
      <th scope="col">Detected Hosting</th>
      <th scope="col">Seller</th>
      <th style="width: 20%" scope="col">Send Test <span id='checkertitle'>to evil0x3a@gmail.com</span></th>
      <th style="width: 5%"scope="col">Price</th>
      <th scope="col">Added on </th>

      <th style="width: 10%" scope="col" class="sorttable_nosort">Buy</th>
    </tr>
</thead>
  <tbody>
    {items}
  </tbody>
</table>



<script type="text/javascript">
$('#filterbutton').click(function () {$("#table tbody tr").each(function() {var ck1 = $.trim( $(this).find("#smtp_id").text().toLowerCase() );var ck2 = $.trim( $(this).find("#smtp_country").text().toLowerCase() );var ck3 = $.trim( $(this).find("#smtp_webmail").text().toLowerCase() );var ck4 = $.trim( $(this).find("#smtp_hosting").text().toLowerCase() );var ck5 = $.trim( $(this).find("#smtp_seller").text().toLowerCase() ); var val1 = $.trim( $('input[name="smtp_id"]').val().toLowerCase() );var val2 = $.trim( $('select[name="smtp_country"]').val().toLowerCase() );var val3 = $.trim( $('select[name="smtp_webmail"]').val().toLowerCase() );var val4 = $.trim( $('input[name="smtp_hosting"]').val().toLowerCase() );var val5 = $.trim( $('select[name="smtp_seller"]').val().toLowerCase() ); if(ck1.indexOf(val1)==-1 || (ck2 != val2 && val2 != '' ) || (ck3 != val3 && val3 != '' ) || ck4.indexOf(val4)==-1 || (ck5 != val5 && val5 != '' )){ $(this).hide();  }else{ $(this).show(); } });$('#filterbutton').prop('disabled', true);});$('.filterselect').change(function () {$('#filterbutton').prop('disabled', false);});$('.filterinput').keyup(function () {$('#filterbutton').prop('disabled', false);});

$("#edit").submit(function() {
$('button').prop('disabled', true);
    $.ajax({
           type: "POST",
           url: 'checkEmailChange.html',
           data: $("#edit").serialize(), // serializes the form's elements.
           success: function(data)
           {
            if (data == 01) {
            	bootbox.alert('Please enter a valid Email', function() {});
             }             
             if (data != 01 ) {
                var c_email=$('#c_email').val();
                $("#checkertitle").html('to ' + c_email +'').show();
				        bootbox.alert(data, function() {});
             }
             $('button').prop('disabled', false);
           }
         });

    return false; // avoid to execute the actual submit of the form.
});
function buyit(id,code,price){
  bootbox.confirm("Are you sure?", function(result) {
        if(result ==true){

          balance = $('#balance').text();
          if (price <= balance){
              $("#buy_"+id).html('Purchasing...').show();
              $.ajax({
                type:       'GET',
                url:        'smtpbuy'+id+'-'+code+'.html',
                success:    function(data)
                {
                  $("#buy_"+id).html(data).show();
                  ajaxinfo();
                }});
          }
          else {
            bootbox.alert('<center><img src="files/img/balance.png"><h2><b>No enough balance !</b></h2><h4>Please refill your balance <a class="btn btn-primary btn-xs"  href="addBalance.html" onclick="window.open(this.href);return false;" >Add Balance <span class="glyphicon glyphicon-plus"></span></a></h4></center>', function() {});}}
  });
}
g:xcheck=0;

function check(id,code){
	//xcheck=0;
  if(xcheck > 5){
    bootbox.alert("<b>Wait</b> - Other checking operation is being executed!");
  }
  else {
    xcheck++;
    $("#check_"+id).html('Sending...').show();
    $.ajax({
      type:       'GET',
      url:        '/smtpcheck1364d4v2t2-'+id+'-'+code+'.html',
      success:    function(data)
      {$("#check_"+id).html(data).show();xcheck--;}
      ,error: function (request, status, error) {$("#check_"+id).html('<span class="label label-default">Unknown</span>').show();xcheck--;}
    });
  }
}

function activaTab(tab){
  $('.nav-tabs a[href="#' + tab + '"]').tab('show');
};
</script>
